<div class="content-wrapper">

    <section class="content">
      <div class="box box-danger">
          <div class="box-header with-border">
              <h3 class="box-title">OVERVIEW</h3>
              <div>

                  <button class="btn btn-primary" type="button" id="month" (click)="drawChart('http://localhost:4000/csp/distinct'); renderTable('');  setDefaultDomainName() ">View All</button>

                 <a href="/chart"><button class="btn btn-primary" type="button" id="month" (click)=" fillTable() ">Example Data </button></a>
                  <!--<button id="year">Year </button>-->
                  <!--
                   <button id="today" (click)="drawChart('http://localhost:4000/csp/today')">Today</button>
                  <div class="dropdown">
                    <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">Choose Subdomain
                    <span class="caret"></span></button>
                    <ul class="dropdown-menu">
                      <li *ngFor="let domain of domain">
                        <a (click)= "drawChart(domain['query'])">{{domain['domain']}}</a>
                      </li>
                    </ul>
                  </div>
                  -->

              </div>
          </div>

          <div class="row">

            <div class="  box-body col-xs-11 col-lg-3">
                          <div class="info-box">
                            <span class="info-box-icon bg-aqua"><i class="ion ion-ios-gear-outline"></i></span>

                            <div class="info-box-content">
                              <span class="info-box-text">Domain Name </span>
                              <span class="info-box-number">{{name}}<small></small></span>
                            </div>
                            <!-- /.info-box-content -->
                          </div>
                          <!-- /.info-box -->


            </div>



             <div class= "box-body col-lg-9 " *ngIf="chartLoaded">
                        <canvas baseChart
                                    [data]="doughnutChartData"
                                    [labels]="doughnutChartLabels"
                                    [chartType]="doughnutChartType"
                                    (chartHover)="chartHovered($event)"
                                    (chartClick)="chartClicked($event)">
                        </canvas>
             </div>

             <div class ="box-body col-lg-12">
                <!--<div class="container tableContainer"><app-chart-table ></app-chart-table> </div> -->

                <div class="row">
                      <div class="col-xs-12 col-lg-12">
                        <div class="box">
                          <div class="body">
                            <div class ="container">
                            <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="row-border hover">
                            <thead>
                              <tr>
                                                <th>domain</th>
                                                <th>document-uri</th>
                                                <th>blocked-uri</th>
                                                <th>violated-directive</th>

                                                <th>date</th>
                                              </tr>
                            </thead>
                            <tbody>
                               <tr *ngFor="let domain of domains">
                                                <td>{{ domain.domain }}</td>
                                                <td>{{ domain["document-uri"]}}</td>
                                                <td>{{ domain["blocked-uri"] }}</td>
                                                <td>{{ domain["violated-directive"]}}</td>
                                                <td>{{ domain["date"]}}</td>
                                </tr>
                            </tbody>
                            </table>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

             </div>

          </div>

          <!-- /.box-body -->
      </div>
    </section>
</div>


